# Image Recognition And Putting message on the image project
This project is a simple Spring Boot application that uses Hugging Face's Image Recognition model for describing an image and generating image by putting message on top of image.

# Features

Spring Boot REST API
Describing uploaded image using Image Recognition HuggingFace model
Putting message (either from huggingface or user provided) on the uploaded image
Easy to set up and deploy

# Requirements

Java 17
Maven
A Hugging Face API key
To generate a token in HuggingFace follow the steps 
-- Go to Hugging Face website and create an account 
-- after that click on your profile picture, it will show multiple options, one of the option will be "Access Tokens" 
-- click on Access Token and generate a token -- copy this token and move to your project, open application.properties file and paste this token against the key "apiKey"

# Project Flow

Following features has been added in this project

1. application exposes a REST API (/imgRecognize) endpoint that takes an image as input and returns the image description.

  Example curl for postman -
  
  curl -X 'POST' \
    'http://localhost:8080/imgRecognize' \
    -H 'accept: */*' \
    -H 'Content-Type: multipart/form-data' \
    -F 'file=@dog_on_roof.jpg;type=image/jpeg'
  
  if you want to use swagger ui, then open 'http://localhost:8080/swagger-ui.html' or 'http://localhost:8080/swagger-ui/index.html'
  
  and then upload an image for  '/imgRecognize', on submission of this request, we will get following response
  
  {
    "generated_text": "a dog standing on top of a building with a blue sky in the background"
  }

2. application exposes a REST API (/formImageWithText) endpoint that takes an image as input and one message which is optional. so this endpoint works in following way
   a. If user upload an image and does not provide any message in the message field then upon submission we get an image with a description painted over the image, description will be provided 
      from the hugging face api which is AI generated image description

      Example curl for postman -

      curl -X 'POST' \
      'http://localhost:8080/formImageWithText?message=Many%20colorful%20fishes%20in%20sea' \
      -H 'accept: */*' \
      -H 'Content-Type: multipart/form-data' \
      -F 'file=@fish_under_water.jpg;type=image/jpeg'
      
      if you want to use swagger ui, then open 'http://localhost:8080/swagger-ui.html' or 'http://localhost:8080/swagger-ui/index.html'
      
      and then upload an image without providing any message for  '/formImageWithText',  on submission of this request, we will get following response, an image with a message generated by 
      Hugging Face API
   
      ![image](https://github.com/user-attachments/assets/e74f6b52-b017-4695-b4b5-0ad5add70ee8)

      
   b. If user upload an image and provide any message in the message field then upon submission we get an image with a user provided message painted over the image

      Example curl for postman -

      curl -X 'POST' \
      'http://localhost:8080/formImageWithText?message=Many%20colorful%20fishes%20in%20sea' \
      -H 'accept: */*' \
      -H 'Content-Type: multipart/form-data' \
      -F 'file=@fish_under_water.jpg;type=image/jpeg'
      
      if you want to use swagger ui, then open 'http://localhost:8080/swagger-ui.html' or 'http://localhost:8080/swagger-ui/index.html'
      
      and then provide a message and upload an image for  '/formImageWithText', on submission of this request, we will get following response
   
      ![image](https://github.com/user-attachments/assets/e856eac1-5a30-4fd8-94bf-6a0ed12afc65)


      



